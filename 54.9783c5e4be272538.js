"use strict";(self.webpackChunkRevenUWebApp=self.webpackChunkRevenUWebApp||[]).push([[54,3556,1175,8794,6413],{70054:(me,ot,d)=>{d.r(ot),d.d(ot,{DocumentModule:()=>ki});var s=d(60177),J=d(33012),bt=d(82740),p=d(89417),A=d(13816),rt=d(11593),t=d(54438);const wt=[{path:"",component:J.AddEditDocumentComponent}];let Ct=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[rt.iI.forChild(wt),rt.iI]})}return n})();var m=d(73955),b=d(60440);function Et(n,i){if(1&n&&(t.j41(0,"div",10),t.EFF(1,"\n    "),t.j41(2,"label",11),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.EFF(5,"\n"),t.k0s()),2&n){const e=t.XpG();t.R7$(3),t.Lme("",t.bMT(4,2,"Doc_link"),""," "+e.obj.LinkStatus,"")}}function xt(n,i){if(1&n){const e=t.RV6();t.j41(0,"a",12),t.bIt("click",function(r){t.eBV(e);const l=t.XpG();return t.Njj(l.OnLinkClick(r,"LINKMAP"))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"Map")))}let x=(()=>{class n{constructor(e){this.translate=e}ngOnInit(){}OnCheckValue(e,o){}OnLinkClick(e,o){e.stopImmediatePropagation(),e.preventDefault(),"PendingList"==o?this.objDocument.OnSearchDocument("Link"):this.objDocument.onButtonClick(o)}static#t=this.\u0275fac=function(o){return new(o||n)(t.rXU(m.c$))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-doc-link"]],inputs:{objDocument:"objDocument",obj:"obj",group:"group",HideHeader:"HideHeader"},decls:35,vars:14,consts:[["class","form-group quick-page-subheader",4,"ngIf"],[1,"rightpnl-container"],[1,"form-group"],["FieldDirective","",2,"margin-top","-10px",3,"obj","group"],["FieldDirective","",3,"obj","group"],[1,"form-group","row"],[2,"flex-direction","column","margin-top","20px","margin-bottom","4px"],["href","#",1,"quicklink",2,"float","left","border-right-width","1px","border-right-style","solid","padding-right","8px",3,"click"],["href","#",1,"quicklink",2,"float","left","padding","0 8px","border-right-width","1px","border-right-style","solid",3,"click"],["class","quicklink","style","float: left; padding-left: 8px;","href","#",3,"click",4,"ngIf"],[1,"form-group","quick-page-subheader"],[1,"quick-page-subtitle"],["href","#",1,"quicklink",2,"float","left","padding-left","8px",3,"click"]],template:function(o,r){1&o&&(t.DNE(0,Et,6,4,"div",0),t.EFF(1,"\n"),t.j41(2,"div",1),t.EFF(3,"\n    "),t.j41(4,"div",2),t.EFF(5,"\n        "),t.eu8(6,3),t.EFF(7,"\n    "),t.k0s(),t.EFF(8,"\n    "),t.j41(9,"div",2),t.EFF(10,"\n        "),t.eu8(11,4),t.EFF(12,"\n    "),t.k0s(),t.EFF(13,"\n    "),t.j41(14,"div",5),t.EFF(15,"\n        "),t.j41(16,"div",6),t.EFF(17,"\n            "),t.j41(18,"a",7),t.bIt("click",function(a){return r.OnLinkClick(a,"PendingList")}),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.EFF(21,"\n            "),t.j41(22,"a",8),t.bIt("click",function(a){return r.OnLinkClick(a,"LINK")}),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.EFF(25,"\n            "),t.DNE(26,xt,3,3,"a",9),t.EFF(27,"\n        "),t.k0s(),t.EFF(28,"\n    "),t.k0s(),t.EFF(29,"\n    "),t.j41(30,"div",2),t.EFF(31,"\n        "),t.eu8(32,4),t.EFF(33,"\n    "),t.k0s(),t.EFF(34,"\n"),t.k0s()),2&o&&(t.Y8G("ngIf",!r.HideHeader),t.R7$(6),t.Y8G("obj",r.obj.LinkCombo)("group",r.group),t.R7$(5),t.Y8G("obj",r.obj.DocumentScan)("group",r.group),t.R7$(8),t.JRh(t.bMT(20,10,"Doc_PendingList")),t.R7$(4),t.JRh(t.bMT(24,12,"Doc_link")),t.R7$(3),t.Y8G("ngIf",r.objDocument.MapVisibility),t.R7$(6),t.Y8G("obj",r.obj.DocumentList)("group",r.group))},dependencies:[s.bT,b._,m.D9],encapsulation:2})}return n})();var $=d(93426),f=d(37292),M=d(75360);function k(n,i){1&n&&(t.j41(0,"div",3),t.EFF(1,"                       \n    "),t.j41(2,"label",4),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.EFF(5,"\n"),t.k0s()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"Add_AssignAdd")))}function ge(n,i){if(1&n&&(t.j41(0,"option",13),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.FS9("value",e.Value),t.R7$(),t.JRh(e.Name)}}function ve(n,i){if(1&n&&(t.j41(0,"div",14),t.EFF(1,"\n            "),t.j41(2,"label",15),t.EFF(3),t.k0s(),t.EFF(4,"\n            "),t.j41(5,"label",15),t.EFF(6),t.k0s(),t.EFF(7,"\n            "),t.j41(8,"label",15),t.EFF(9),t.k0s(),t.EFF(10,"\n            "),t.j41(11,"label",15),t.EFF(12),t.k0s(),t.EFF(13,"\n        "),t.k0s()),2&n){const e=t.XpG(2);t.R7$(3),t.JRh(e.obj.AddressToName.Text),t.R7$(3),t.JRh(e.obj.AddressTo1.Text),t.R7$(3),t.JRh(e.obj.AddressToCity.Text),t.R7$(3),t.JRh(e.obj.PhoneTo1.Text)}}function Fe(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",5),t.EFF(1,"\n        "),t.j41(2,"label",6),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.EFF(5,"\n        "),t.j41(6,"div",7),t.EFF(7,"\n            "),t.j41(8,"select",8),t.bIt("change",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.obj.SelectionChangedCommand.Call("Address"))}),t.mxI("ngModelChange",function(r){t.eBV(e);const l=t.XpG();return t.DH7(l.obj.SelectedAddressTo,r)||(l.obj.SelectedAddressTo=r),t.Njj(r)}),t.EFF(9,"\n                "),t.DNE(10,ge,2,2,"option",9),t.EFF(11,"\n            "),t.k0s(),t.EFF(12,"\n            "),t.j41(13,"span",10),t.bIt("click",function(r){t.eBV(e);const l=t.XpG();return r.preventDefault(),t.Njj(l.obj.OnButtonClick("Address"))}),t.nrm(14,"i",11),t.k0s(),t.EFF(15,"\n        "),t.k0s(),t.EFF(16,"\n        "),t.DNE(17,ve,14,4,"div",12),t.EFF(18,"\n    "),t.k0s()}if(2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,4,"Add_Address")),t.R7$(5),t.R50("ngModel",e.obj.SelectedAddressTo),t.R7$(2),t.Y8G("ngForOf",e.obj.AddressTo),t.R7$(7),t.Y8G("ngIf",e.obj.AddressToVisbility)}}function be(n,i){if(1&n&&(t.j41(0,"option",13),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.FS9("value",e.Value),t.R7$(),t.JRh(e.Name)}}function we(n,i){if(1&n&&(t.j41(0,"div",14),t.EFF(1,"\n            "),t.j41(2,"label",15),t.EFF(3),t.k0s(),t.EFF(4,"\n            "),t.j41(5,"label",15),t.EFF(6),t.k0s(),t.EFF(7,"\n            "),t.j41(8,"label",15),t.EFF(9),t.k0s(),t.EFF(10,"\n            "),t.j41(11,"label",15),t.EFF(12),t.k0s(),t.EFF(13,"\n        "),t.k0s()),2&n){const e=t.XpG(2);t.R7$(3),t.JRh(e.obj.AddressName.Text),t.R7$(3),t.JRh(e.obj.Address1.Text),t.R7$(3),t.JRh(e.obj.AddressCity.Text),t.R7$(3),t.JRh(e.obj.Phone1.Text)}}function Ce(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",5),t.EFF(1,"\n        "),t.j41(2,"label",6),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.EFF(5,"\n        "),t.j41(6,"div",7),t.EFF(7,"\n            "),t.j41(8,"select",8),t.bIt("change",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.obj.SelectionChangedCommand.Call("Bill"))}),t.mxI("ngModelChange",function(r){t.eBV(e);const l=t.XpG();return t.DH7(l.obj.SelectedBillTo,r)||(l.obj.SelectedBillTo=r),t.Njj(r)}),t.EFF(9,"\n                "),t.DNE(10,be,2,2,"option",9),t.EFF(11,"\n            "),t.k0s(),t.EFF(12,"\n            "),t.j41(13,"span",10),t.bIt("click",function(r){t.eBV(e);const l=t.XpG();return r.preventDefault(),t.Njj(l.obj.OnButtonClick("Billing"))}),t.nrm(14,"i",11),t.k0s(),t.EFF(15,"\n        "),t.k0s(),t.EFF(16,"\n        "),t.DNE(17,we,14,4,"div",12),t.EFF(18,"\n    "),t.k0s()}if(2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,4,"Add_BillTo")),t.R7$(5),t.R50("ngModel",e.obj.SelectedBillTo),t.R7$(2),t.Y8G("ngForOf",e.obj.BillTo),t.R7$(7),t.Y8G("ngIf",e.obj.BillToVisibility)}}function Ee(n,i){if(1&n&&(t.j41(0,"option",13),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.FS9("value",e.Value),t.R7$(),t.JRh(e.Name)}}function xe(n,i){if(1&n&&(t.j41(0,"div",14),t.EFF(1,"\n            "),t.j41(2,"label",15),t.EFF(3),t.k0s(),t.EFF(4,"\n            "),t.j41(5,"label",15),t.EFF(6),t.k0s(),t.EFF(7,"\n            "),t.j41(8,"label",15),t.EFF(9),t.k0s(),t.EFF(10,"\n            "),t.j41(11,"label",15),t.EFF(12),t.k0s(),t.EFF(13,"\n        "),t.k0s()),2&n){const e=t.XpG(2);t.R7$(3),t.JRh(e.obj.SAddressName.Text),t.R7$(3),t.JRh(e.obj.SAddress1.Text),t.R7$(3),t.JRh(e.obj.SAddressCity.Text),t.R7$(3),t.JRh(e.obj.SPhone1.Text)}}function ye(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",5),t.EFF(1,"\n        "),t.j41(2,"label",6),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.EFF(5,"\n        "),t.j41(6,"div",7),t.EFF(7,"\n            "),t.j41(8,"select",8),t.bIt("change",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.obj.SelectionChangedCommand.Call("Ship"))}),t.mxI("ngModelChange",function(r){t.eBV(e);const l=t.XpG();return t.DH7(l.obj.SelectedShipTo,r)||(l.obj.SelectedShipTo=r),t.Njj(r)}),t.EFF(9,"\n                "),t.DNE(10,Ee,2,2,"option",9),t.EFF(11,"\n            "),t.k0s(),t.EFF(12,"\n            "),t.j41(13,"span",10),t.bIt("click",function(r){t.eBV(e);const l=t.XpG();return r.preventDefault(),t.Njj(l.obj.OnButtonClick("Shipping"))}),t.nrm(14,"i",11),t.k0s(),t.EFF(15,"\n        "),t.k0s(),t.EFF(16,"\n        "),t.DNE(17,xe,14,4,"div",12),t.EFF(18,"\n    "),t.k0s()}if(2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,4,"Add_ShipTo")),t.R7$(5),t.R50("ngModel",e.obj.SelectedShipTo),t.R7$(2),t.Y8G("ngForOf",e.obj.ShipTo),t.R7$(7),t.Y8G("ngIf",e.obj.ShipToVisibility)}}let Re=(()=>{class n{constructor(e){}ngOnInit(){}ngAfterViewInit(){this.obj.IsRendred=!0}static#t=this.\u0275fac=function(o){return new(o||n)(t.rXU(m.c$))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-address-view"]],inputs:{obj:"obj",HideHeader:"HideHeader"},decls:10,vars:4,consts:[["class","form-group quick-page-subheader",4,"ngIf"],[1,"rightpnl-container"],["class","form-group",4,"ngIf"],[1,"form-group","quick-page-subheader"],[1,"quick-page-subtitle"],[1,"form-group"],[1,"input_cntrl_label"],[2,"display","flex","margin-bottom","6px"],[1,"input_cntrl",3,"change","ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"btnMetroDiv","secondary-btn",2,"padding-top","10px !important",3,"click"],[1,"fa-light","fa-plus"],["style","display: contents;",4,"ngIf"],[3,"value"],[2,"display","contents"],[1,"lblData"]],template:function(o,r){1&o&&(t.DNE(0,k,6,3,"div",0),t.EFF(1,"\n"),t.j41(2,"div",1),t.EFF(3,"    \n    "),t.DNE(4,Fe,19,6,"div",2),t.EFF(5,"\n    "),t.DNE(6,Ce,19,6,"div",2),t.EFF(7,"\n    "),t.DNE(8,ye,19,6,"div",2),t.EFF(9,"\n"),t.k0s()),2&o&&(t.Y8G("ngIf",!r.HideHeader),t.R7$(4),t.Y8G("ngIf",r.obj.PrimVisibe),t.R7$(2),t.Y8G("ngIf",r.obj.BillsVisibe),t.R7$(2),t.Y8G("ngIf",r.obj.ShipVisibe))},dependencies:[s.Sq,s.bT,p.xH,p.y7,p.wz,p.BC,p.vS,m.D9],encapsulation:2})}return n})();var De=d(2016),je=d(51588),_e=d(78996),Se=d(34380),ke=d(36240),Te=d(37788),Be=d(87020),$e=d(29548),Ge=d(56436),Me=d(38346),Ie=d(47476),Le=d(49500),Pe=d(66708),He=d(33860),Xe=d(21950),Ve=d(65644),Oe=d(93026),Ne=d(82856),Ae=d(84552),Vt=d(20212),ze=d(45684),We=d(69054),Ye=d(76208),Ke=d(13352),Ue=d(11152),Je=d(70126),Ze=d(22644),Qe=d(17852),qe=d(86206),tn=d(71548),en=d(48608),nn=d(89012),on=d(69310),rn=d(71028),sn=d(71268),ln=d(25664),an=d(32508),cn=d(47252),dn=d(11430),un=d(22472),hn=d(38356),pn=d(12558),fn=d(48200),mn=d(53696),gn=d(29920),st=d(13226),I=d(33726),z=d(57786),lt=d(71985),at=d(21413),Ot=d(84412),vn=d(85343);const Z=new lt.c(vn.l);var Fn=d(40605),bn=d(30536),wn=d(84572),Cn=d(7673),H=d(5964),W=d(25558),ct=d(99172),X=d(96354),Nt=d(58750),En=d(39974),At=d(54360);function yt(n,i){return i?e=>e.pipe(yt((o,r)=>(0,Nt.Tg)(n(o,r)).pipe((0,X.T)((l,a)=>i(o,l,r,a))))):(0,En.N)((e,o)=>{let r=0,l=null,a=!1;e.subscribe((0,At._)(o,c=>{l||(l=(0,At._)(o,void 0,()=>{l=null,a&&o.complete()}),(0,Nt.Tg)(n(c,r++)).subscribe(l))},()=>{a=!0,!l&&o.complete()}))})}var Rt=d(56977),xn=d(96697),zt=d(88141),yn=d(23294);const Rn=["resizeElem"],Wt=["*"],Dn=!1;function Yt(n){const i={w:n.w,h:n.h,x:n.x,y:n.y,id:n.id,moved:!!n.moved,static:!!n.static};return void 0!==n.minW&&(i.minW=n.minW),void 0!==n.maxW&&(i.maxW=n.maxW),void 0!==n.minH&&(i.minH=n.minH),void 0!==n.maxH&&(i.maxH=n.maxH),void 0!==n.isDraggable&&(i.isDraggable=n.isDraggable),void 0!==n.isResizable&&(i.isResizable=n.isResizable),i}function Dt(n,i){return!(n.id===i.id||n.x+n.w<=i.x||n.x>=i.x+i.w||n.y+n.h<=i.y||n.y>=i.y+i.h)}function Y(n,i,e){const o=function Ut(n){return n.filter(i=>i.static)}(n),r=o.length>1;r&&o.sort((c,u)=>c.y+c.h-(u.y+u.h));const l=Q(n,i),a=Array(n.length);for(let c=0,u=l.length;c<u;c++){let h=Yt(l[c]);h.static||(h=Sn(o,h,i,e,l,r),o.push(h)),a[n.indexOf(l[c])]=h,h.moved=!1}return a}const _n={x:"w",y:"h"};function jt(n,i,e,o,r){const l=_n[o];i[o]+=1;const a=n.map(c=>c.id).indexOf(i.id);for(let c=a+1;c<n.length;c++){const u=n[c];if(!u.static){if(u[o]>(r??e)+i[l])break;Dt(i,u)&&(r=jt(n,u,e+i[l],o,r?r+i[l]:void 0))}}return i[o]=e,r}function Sn(n,i,e,o,r,l){const c="horizontal"===e;if("vertical"===e)for(i.y=Math.min(function jn(n){let e,i=0;for(let o=0,r=n.length;o<r;o++)e=n[o].y+n[o].h,e>i&&(i=e);return i}(n),i.y);i.y>0&&!V(n,i);)i.y--;else if(c)for(;i.x>0&&!V(n,i);)i.x--;let u,h;for(l&&n.forEach(E=>{(!h||E.y+E.h>h)&&(h=E.y+E.h)});u=V(n,i);)if(c?jt(r,i,u.x+u.w,"x",h):jt(r,i,u.y+u.h,"y",h),c&&i.x+i.w>o)for(i.x=o-i.w,i.y++;i.x>0&&!V(n,i);)i.x--;return i.y=Math.max(i.y,0),i.x=Math.max(i.x,0),i}function V(n,i){for(let e=0,o=n.length;e<o;e++)if(Dt(n[e],i))return n[e];return null}function Kt(n,i){return n.filter(e=>Dt(e,i))}function _t(n,i,e,o,r,l,a,c){if(i.static&&!0!==i.isDraggable||i.y===o&&i.x===e)return n;dt(`Moving element ${i.id} to [${String(e)},${String(o)}] from [${i.x},${i.y}]`);const u=i.x,h=i.y;"number"==typeof e&&(i.x=e),"number"==typeof o&&(i.y=o),i.moved=!0;let E=Q(n,a);("vertical"===a&&"number"==typeof o?h>=o:"horizontal"===a&&"number"==typeof e&&u>=e)&&(E=E.reverse());const _=Kt(E,i);if(l&&_.length)return dt(`Collision prevented on ${i.id}, reverting.`),i.x=u,i.y=h,i.moved=!1,n;for(let w=0,v=_.length;w<v;w++){const j=_[w];dt(`Resolving collision between ${i.id} at [${i.x},${i.y}] and ${j.id} at [${j.x},${j.y}]`),!j.moved&&(n=j.static?Jt(n,j,i,r,a,c):Jt(n,i,j,r,a,c))}return n}function Jt(n,i,e,o,r,l){const a="horizontal"===r,c="horizontal"!==r,u=i.static;if(o){o=!1;const h={x:a?Math.max(i.x-e.w,0):e.x,y:c?Math.max(i.y-e.h,0):e.y,w:e.w,h:e.h,id:"-1"};if(!V(n,h))return dt(`Doing reverse collision on ${e.id} up to [${h.x},${h.y}].`),_t(n,e,a?h.x:void 0,c?h.y:void 0,o,u,r,l)}return _t(n,e,a?e.x+1:void 0,c?e.y+1:void 0,o,u,r,l)}function Q(n,i){return"horizontal"===i?function Tn(n){return[].concat(n).sort(function(i,e){return i.x>e.x||i.x===e.x&&i.y>e.y?1:-1})}(n):function kn(n){return[].concat(n).sort(function(i,e){return i.y>e.y||i.y===e.y&&i.x>e.x?1:i.y===e.y&&i.x===e.x?0:-1})}(n)}function dt(...n){Dn&&console.log(...n)}let q;function ut(n){return function Bn(){if(null==q&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>q=!0}))}finally{q=q||!1}return q}()?n:!!n.capture}const $n=ut({passive:!0}),tt=ut({passive:!1});let ht=null;function pt(){if(null!=ht)return ht;const n=/Android|webOS|BlackBerry|Windows Phone|iPad|iPhone|iPod/i.test(navigator.userAgent),i=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;return ht=n||i,ht}function ft(n){return null!=n.clientX}function O(n){return ft(n)?n.clientX:n.touches[0].clientX}function N(n){return ft(n)?n.clientY:n.touches[0].clientY}function Zt(n){return{clientX:ft(n)?n.clientX:n.touches[0].clientX,clientY:ft(n)?n.clientY:n.touches[0].clientY}}function Qt(n){return"mousedown"===n.type||"pointerdown"===n.type&&"mouse"===n.pointerType}function mt(){return!!window.PointerEvent}function gt(n){return mt()?(0,I.R)(n,"pointerdown",tt).pipe((0,H.p)(i=>i.isPrimary&&0===i.button)):function Gn(n,i=1){return(0,st.T)(()=>pt(),(0,I.R)(n,"touchstart",$n).pipe((0,H.p)(e=>e.touches.length===i)),(0,I.R)(n,"mousedown",tt).pipe((0,H.p)(e=>0===e.button)))}(n)}function St(n){return mt()?(0,I.R)(n,"pointerup").pipe((0,H.p)(i=>i.isPrimary&&0===i.button)):function Ln(n,i=1){return(0,st.T)(()=>pt(),function In(n,i=1){return(0,z.h)((0,I.R)(n,"touchend").pipe((0,H.p)(e=>e.touches.length===i-1)),(0,I.R)(n,"touchcancel").pipe((0,H.p)(e=>e.touches.length===i-1)))}(n,i),(0,I.R)(n,"mouseup"))}(n)}const Pn=!1;function kt(n,i,e,o,r){let l="vertical"===o?"y":"x";if(i.every(w=>w.l.y===w.y&&w.l.x===w.x))return n;const a=i[0].l.x,c=i[0].l.y,u={};i.forEach(w=>{u[w.l.id]={x:w.l.x,y:w.l.y},"number"==typeof w.x&&(w.l.x=w.x),"number"==typeof w.y&&(w.l.y=w.y),w.l.moved=!0});let _,h=Q(n,o),E=Q(i.map(w=>w.l),o);return("vertical"===o&&"number"==typeof i[0].y?c>=i[0].y:"horizontal"===o&&"number"==typeof i[0].x&&a>=i[0].x)&&(h=h.reverse()),E&&E.length&&(_=E[0][l]),E.forEach(w=>{const v=Kt(h,w);for(let j=0,L=v.length;j<L;j++){const g=v[j];te(`Resolving collision between ${w.id}] and ${g.id} at [${g.x},${g.y}]`),!g.moved&&(n=g.static&&!w.static?qt(n,g,w,_===w[l]&&e,o,r):qt(n,w,g,_===w[l]&&e,o,r))}}),n}function qt(n,i,e,o,r,l){const a="horizontal"===r,c="horizontal"!==r;if(o){o=!1;const u={x:a?Math.max(i.x-e.w,0):e.x,y:c?Math.max(i.y-e.h,0):e.y,w:e.w,h:e.h,id:"-1"};if(!V(n,u))return te(`Doing reverse collision on ${e.id} up to [${u.x},${u.y}].`),kt(n,[{l:e,x:a?u.x:void 0,y:c?u.y:void 0}],o,r,l)}return kt(n,[{l:e,x:a?e.x+1:void 0,y:c?e.y+1:void 0}],o,r,l)}function te(...n){Pn&&console.log(...n)}function et(n,i,e){const o=n.reduce((a,c)=>Math.max(a,Math.max(c.y+c.h,0)),0);return(i-(o-1)*e)/o}function ee(n,i,e,o){return i<=1?0:Math.round(n/((e-o*(i-1))/i+o))}function ne(n,i,e,o){return Math.round(n/(i+o))}function Hn(n,i,e,o){const l=(e-o*(i-1))/i;return Math.round((n-l)/(l+o))+1}function Xn(n,i,e,o){return Math.round((n-i)/(i+o))+1}function Vn(n,i,e,o){const{pointerDownEvent:r,pointerDragEvent:l,gridElemClientRect:a,dragElemClientRect:c,scrollDifference:u}=o,h=n.id,E=i.layout.find(T=>T.id===h),R=O(r),_=N(r),w=O(l),v=N(l),B=w-(a.left+u.left)-(R-c.left),C=v-(a.top+u.top)-(_-c.top),U="fit"===i.rowHeight?et(i.layout,i.height??a.height,i.gap):i.rowHeight,S={...E,x:ee(B,i.cols,a.width,i.gap),y:ne(C,U,0,i.gap)};S.x=Math.max(0,S.x),S.y=Math.max(0,S.y),S.x+S.w>i.cols&&(S.x=Math.max(0,i.cols-S.w));const P=i.layout,G=P.find(T=>T.id===h);let F=_t(P,G,S.x,S.y,!0,i.preventCollision,e,i.cols);return F=Y(F,e,i.cols),{layout:F,draggedItemPos:{top:C,left:B,width:c.width,height:c.height}}}function Nn(n,i,e,o){const{pointerDownEvent:r,pointerDragEvent:l,gridElemClientRect:a,dragElemClientRect:c,scrollDifference:u}=o,h=n.id,E=O(r),R=N(r),_=O(l),w=N(l),v=c.width-(E-c.left),j=c.height-(R-c.top),L=i.layout.find(S=>S.id===h),g=_+v-(c.left+u.left),D=w+j-(c.top+u.top),B="fit"===i.rowHeight?et(i.layout,i.height??a.height,i.gap):i.rowHeight,C={...L,w:Hn(g,i.cols,a.width,i.gap),h:Xn(D,B,0,i.gap)};if(C.w=ie(C.w,n.minW??C.minW,n.maxW??C.maxW),C.h=ie(C.h,n.minH??C.minH,n.maxH??C.maxH),C.x+C.w>i.cols&&(C.w=Math.max(1,i.cols-C.x)),i.preventCollision){const S=C.w,P=C.h;let F,G=K(i.layout,C);for(;G;)F=An(C,F),C[F]--,G=K(i.layout,C);if("w"===F)for(C.h=P,G=K(i.layout,C);G;)C.h--,G=K(i.layout,C);if("h"===F)for(C.w=S,G=K(i.layout,C);G;)C.w--,G=K(i.layout,C)}return{layout:Y(i.layout.map(S=>S.id===h?C:S),e,i.cols),draggedItemPos:{top:c.top-a.top,left:c.left-a.left,width:g,height:D}}}function K(n,i){return!!V(n,i)}function An(n,i){return n.h<=1?"w":n.w<=1||"w"===i?"h":"w"}function ie(n,i=1,e=1/0){return Math.min(Math.max(n,i<1?1:i),e)}const Wn=new t.nKC("KtdGridDragHandle"),Yn=new t.nKC("KtdGridResizeHandle"),Kn=new t.nKC("KtdGridItemPlaceholder");function vt(n){return null!=n&&"false"!=`${n}`}function nt(n,i=0){return function Un(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):i}const oe=new t.nKC("GRID_ITEM_GET_RENDER_DATA_TOKEN"),Tt=ut({passive:!1,capture:!0});let Bt=(()=>{class n{constructor(e,o){this.ngZone=e,this.document=o,this.touchMoveSubject=new at.B,this.touchMove$=this.touchMoveSubject.asObservable(),this.registerTouchMoveSubscription()}ngOnDestroy(){this.touchMoveSubscription.unsubscribe()}mouseOrTouchMove$(e){return mt()?(0,I.R)(e,"pointermove",Tt):(0,st.T)(()=>pt(),this.touchMove$,(0,I.R)(e,"mousemove",Tt))}registerTouchMoveSubscription(){this.touchMoveSubscription=this.ngZone.runOutsideAngular(()=>(0,I.R)(this.document,"touchmove",Tt).pipe((0,H.p)(e=>1===e.touches.length)).subscribe(e=>this.touchMoveSubject.next(e)))}static#t=this.\u0275fac=function(o){return new(o||n)(t.KVO(t.SKi),t.KVO(s.qQ))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),re=(()=>{class n{get touchAction(){return this._draggable?"none":"auto"}get id(){return this._id}set id(e){this._id=e}get dragStartThreshold(){return this._dragStartThreshold}set dragStartThreshold(e){this._dragStartThreshold=nt(e)}get draggable(){return this._draggable}set draggable(e){this._draggable=vt(e),this._draggable$.next(this._draggable)}get resizable(){return this._resizable}set resizable(e){this._resizable=vt(e),this._resizable$.next(this._resizable)}constructor(e,o,r,l,a,c){this.elementRef=e,this.gridService=o,this.renderer=r,this.ngZone=l,this.document=a,this.getItemRenderData=c,this.transition="transform 500ms ease, width 500ms ease, height 500ms ease",this._dragStartThreshold=0,this._draggable=!0,this._draggable$=new Ot.t(this._draggable),this._manualDragEvents$=new at.B,this._resizable=!0,this._resizable$=new Ot.t(this._resizable),this.dragStartSubject=new at.B,this.resizeStartSubject=new at.B,this.subscriptions=[],this.dragStart$=this.dragStartSubject.asObservable(),this.resizeStart$=this.resizeStartSubject.asObservable()}ngOnInit(){const e=this.getItemRenderData(this.id);this.setStyles(e)}ngAfterContentInit(){this.subscriptions.push(this._dragStart$().subscribe(this.dragStartSubject),this._resizeStart$().subscribe(this.resizeStartSubject))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}startDragManually(e){this._manualDragEvents$.next(e)}setStyles({top:e,left:o,width:r,height:l}){this.renderer.setStyle(this.elementRef.nativeElement,"transform",`translateX(${o}) translateY(${e})`),this.renderer.setStyle(this.elementRef.nativeElement,"display","block"),this.renderer.setStyle(this.elementRef.nativeElement,"transition",this.transition),null!=r&&this.renderer.setStyle(this.elementRef.nativeElement,"width",r),null!=l&&this.renderer.setStyle(this.elementRef.nativeElement,"height",l)}_dragStart$(){return(0,z.h)(this._manualDragEvents$,this._draggable$.pipe((0,W.n)(e=>e?this._dragHandles.changes.pipe((0,ct.Z)(this._dragHandles),(0,W.n)(o=>(0,st.T)(()=>o.length>0,(0,z.h)(...o.toArray().map(r=>gt(r.element.nativeElement))),gt(this.elementRef.nativeElement)))):Z))).pipe(yt(e=>{Qt(e)&&e.preventDefault();const o=Zt(e);return this.gridService.mouseOrTouchMove$(this.document).pipe((0,Rt.Q)(St(this.document)),function Jn(n){return i=>new lt.c(e=>n.runOutsideAngular(()=>i.subscribe(e)))}(this.ngZone),(0,H.p)(r=>{r.preventDefault();const l=Zt(r);return Math.abs(o.clientX-l.clientX)+Math.abs(o.clientY-l.clientY)>=this.dragStartThreshold}),(0,xn.s)(1),(0,X.T)(()=>e))}))}_resizeStart$(){return this._resizable$.pipe((0,W.n)(e=>e?this._resizeHandles.changes.pipe((0,ct.Z)(this._resizeHandles),(0,W.n)(o=>o.length>0?(this.renderer.setStyle(this.resizeElem.nativeElement,"display","none"),(0,z.h)(...o.toArray().map(r=>gt(r.element.nativeElement)))):(this.renderer.setStyle(this.resizeElem.nativeElement,"display","block"),gt(this.resizeElem.nativeElement))),(0,zt.M)(o=>{Qt(o)&&o.preventDefault()})):(this.renderer.setStyle(this.resizeElem.nativeElement,"display","none"),Z)))}static#t=this.\u0275fac=function(o){return new(o||n)(t.rXU(t.aKT),t.rXU(Bt),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(s.qQ),t.rXU(oe))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["ktd-grid-item"]],contentQueries:function(o,r,l){if(1&o&&(t.wni(l,Kn,5),t.wni(l,Wn,5),t.wni(l,Yn,5)),2&o){let a;t.mGM(a=t.lsd())&&(r.placeholder=a.first),t.mGM(a=t.lsd())&&(r._dragHandles=a),t.mGM(a=t.lsd())&&(r._resizeHandles=a)}},viewQuery:function(o,r){if(1&o&&t.GBs(Rn,7,t.aKT),2&o){let l;t.mGM(l=t.lsd())&&(r.resizeElem=l.first)}},hostVars:2,hostBindings:function(o,r){2&o&&t.xc7("touch-action",r.touchAction)},inputs:{minW:"minW",minH:"minH",maxW:"maxW",maxH:"maxH",transition:"transition",id:"id",dragStartThreshold:"dragStartThreshold",draggable:"draggable",resizable:"resizable"},standalone:!0,features:[t.aNF],ngContentSelectors:Wt,decls:3,vars:0,consts:[["resizeElem",""],[1,"grid-item-resize-icon"]],template:function(o,r){1&o&&(t.NAR(),t.SdG(0),t.nrm(1,"div",1,0))},styles:['[_nghost-%COMP%]{display:none;position:absolute;z-index:1;overflow:hidden}[_nghost-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;-webkit-user-select:none;user-select:none;z-index:10}[_nghost-%COMP%]   div.grid-item-resize-icon[_ngcontent-%COMP%]{cursor:se-resize;width:20px;height:20px;bottom:0;right:0;color:inherit}[_nghost-%COMP%]   div.grid-item-resize-icon[_ngcontent-%COMP%]:after{content:"";position:absolute;right:3px;bottom:3px;width:5px;height:5px;border-right:2px solid;border-bottom:2px solid}.display-none[_ngcontent-%COMP%]{display:none!important}'],changeDetection:0})}return n})();function $t(n){const i=n.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height}}function le(n,i){n===window?n.scrollBy(0,i):n.scrollTop+=i}function ae(n,i){n===window?n.scrollBy(i,0):n.scrollLeft+=i}function ei(n,i){let e,o,r;if(n===document){e=document.defaultView;const{width:l,height:a}=function ce(){const n=document.defaultView||window;return{width:n.innerWidth,height:n.innerHeight}}();o={width:l,height:a,top:0,right:l,bottom:a,left:0},r=function ii(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)}()}else e=n,o=$t(n),r=n.scrollWidth;return null==(i=i||{}).disableHorizontal&&r<=o.width&&(i.disableHorizontal=!0),l=>l.pipe((0,X.T)(({pointerX:a,pointerY:c})=>{let u=function Qn(n,i){const{top:e,bottom:o,height:r}=n,l=.05*r;return i>=e-l&&i<=e+l?1:i>=o-l&&i<=o+l?2:0}(o,c),h=function qn(n,i){const{left:e,right:o,width:r}=n,l=.05*r;return i>=e-l&&i<=e+l?1:i>=o-l&&i<=o+l?2:0}(o,a);return i?.disableVertical&&(u=0),i?.disableHorizontal&&(h=0),{verticalScrollDirection:u,horizontalScrollDirection:h}}),(0,yn.F)((a,c)=>a.verticalScrollDirection===c.verticalScrollDirection&&a.horizontalScrollDirection===c.horizontalScrollDirection),(0,W.n)(({verticalScrollDirection:a,horizontalScrollDirection:c})=>a||c?function ti(n,i,e,o=2){return(0,Fn.Y)(0,bn.X).pipe((0,zt.M)(()=>{1===i?le(n,-o):2===i&&le(n,o),1===e?ae(n,-o):2===e&&ae(n,o)}),function Zn(){return n=>n.pipe((0,H.p)(()=>!1))}())}(e,a,c,i?.scrollStep):Z))}function ni(n){let i;return i=n===document?Gt():{top:n.scrollTop,left:n.scrollLeft},(0,I.R)(n,"scroll",ut({capture:!0})).pipe((0,X.T)(()=>{let e,o;if(n===document){const a=Gt();e=a.top,o=a.left}else e=n.scrollTop,o=n.scrollLeft;return{top:i.top-e,left:i.left-o}}))}function Gt(){const n=document.defaultView||window,i=document.documentElement,e=i.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||n.scrollY||i.scrollTop||0,left:-e.left||document.body.scrollLeft||n.scrollX||i.scrollLeft||0}}function de(n){const i=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*i}function Mt(n,i){return n.getPropertyValue(i).split(",").map(o=>o.trim())}function It(n,i,e){return{layout:i,layoutItem:i.find(o=>o.id===n.id),gridItemRef:n,selectedItems:e&&e.map(o=>({layoutItem:i.find(r=>r.id===o.id),gridItemRef:o}))}}function ue(n,i){const{rowHeight:e,layout:o,gap:r}=n;return"fit"===e?et(o,i,r):e}function he(n,i,e){const{layout:o,gap:r}=n,l=ue(n,e),a=function ri(n,i){const{cols:e,gap:o}=n;return(i-Math.max(o*(e-1),0))/e}(n,i),c={};for(const u of o)c[u.id]={id:u.id,top:u.y*l+r*u.y,left:u.x*a+r*u.x,width:u.w*a+r*Math.max(u.w-1,0),height:u.h*l+r*Math.max(u.h-1,0)};return c}function pe(n,i,e){return n.reduce((o,r)=>Math.max(o,(r.y+r.h)*i+Math.max(r.y+r.h-1,0)*e),0)}function Lt(n){return{id:n.id,top:`${n.top}px`,left:`${n.left}px`,width:`${n.width}px`,height:`${n.height}px`}}function li(n){return function si(n){return function(i){return Lt(n.getItemRenderData(i))}}(n)}let ai=(()=>{class n{get compactOnPropsChange(){return this._compactOnPropsChange}set compactOnPropsChange(e){this._compactOnPropsChange=vt(e)}get preventCollision(){return this._preventCollision}set preventCollision(e){this._preventCollision=vt(e)}get scrollSpeed(){return this._scrollSpeed}set scrollSpeed(e){this._scrollSpeed=nt(e,2)}get compactType(){return this._compactType}set compactType(e){this._compactType=e}get rowHeight(){return this._rowHeight}set rowHeight(e){this._rowHeight="fit"===e?e:Math.max(1,Math.round(nt(e)))}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(nt(e)))}get layout(){return this._layout}set layout(e){this._layout=e}get gap(){return this._gap}set gap(e){this._gap=Math.max(nt(e),0)}get height(){return this._height}set height(e){this._height="number"==typeof e?Math.max(e,0):null}get selectedItemsIds(){return this._selectedItemsIds}set selectedItemsIds(e){this._selectedItemsIds=e,this.selectedItems=e?e.map(o=>this._gridItems.find(r=>r.id===o)):void 0}get backgroundConfig(){return this._backgroundConfig}set backgroundConfig(e){this._backgroundConfig=e;const o=this.elementRef.nativeElement.classList;null!==this._backgroundConfig?o.add("ktd-grid-background"):o.remove("ktd-grid-background"),this.setGridBackgroundVisible("always"===this._backgroundConfig?.show)}get config(){return{cols:this.cols,rowHeight:this.rowHeight,height:this.height,layout:this.layout,preventCollision:this.preventCollision,gap:this.gap}}constructor(e,o,r,l,a,c){this.gridService=e,this.elementRef=o,this.viewContainerRef=r,this.renderer=l,this.ngZone=a,this.document=c,this.layoutUpdated=new t.bkB,this.dragStarted=new t.bkB,this.resizeStarted=new t.bkB,this.dragEnded=new t.bkB,this.resizeEnded=new t.bkB,this.gridItemResize=new t.bkB,this.scrollableParent=null,this._compactOnPropsChange=!0,this._preventCollision=!1,this._scrollSpeed=2,this._compactType="vertical",this._rowHeight=100,this._cols=6,this._gap=0,this._height=null,this._backgroundConfig=null,this.placeholderRef={},this.placeholder={},this.subscriptions=[]}ngOnChanges(e){"fit"===this.rowHeight&&null==this.height&&console.warn("KtdGridComponent: The @Input() height should not be null when using rowHeight 'fit'");let o=!1,r=!1;(e.compactType||e.cols||e.layout)&&(o=!0),(o||e.rowHeight||e.height||e.gap||e.backgroundConfig)&&(r=!0),o&&this.compactOnPropsChange&&this.compactLayout(),r&&this.calculateRenderData()}ngAfterContentInit(){this.initSubscriptions()}ngAfterContentChecked(){this.render()}resize(){this.calculateRenderData(),this.render()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}compactLayout(){this.layout=Y(this.layout,this.compactType,this.cols)}getItemsRenderData(){return{...this._gridItemsRenderData}}getItemRenderData(e){return this._gridItemsRenderData[e]}calculateRenderData(){const e=this.elementRef.nativeElement.getBoundingClientRect();this.gridCurrentHeight=this.height??("fit"===this.rowHeight?e.height:pe(this.layout,this.rowHeight,this.gap)),this._gridItemsRenderData=he(this.config,e.width,this.gridCurrentHeight),this.setBackgroundCssVariables(ue(this.config,this.gridCurrentHeight))}render(){this.renderer.setStyle(this.elementRef.nativeElement,"height",`${this.gridCurrentHeight}px`),this.updateGridItemsStyles()}setBackgroundCssVariables(e){const o=this.elementRef.nativeElement.style;this._backgroundConfig?(o.setProperty("--gap",this.gap+"px"),o.setProperty("--row-height",e+"px"),o.setProperty("--columns",`${this.cols}`),o.setProperty("--border-width",(this._backgroundConfig.borderWidth??1)+"px"),o.setProperty("--border-color",this._backgroundConfig.borderColor??"#ffa72678"),o.setProperty("--gap-color",this._backgroundConfig.gapColor??"transparent"),o.setProperty("--row-color",this._backgroundConfig.rowColor??"transparent"),o.setProperty("--column-color",this._backgroundConfig.columnColor??"transparent")):(o.removeProperty("--gap"),o.removeProperty("--row-height"),o.removeProperty("--columns"),o.removeProperty("--border-width"),o.removeProperty("--border-color"),o.removeProperty("--gap-color"),o.removeProperty("--row-color"),o.removeProperty("--column-color"))}updateGridItemsStyles(){this._gridItems.forEach(e=>{const o=this._gridItemsRenderData[e.id];null==o?console.error(`Couldn't find the specified grid item for the id: ${e.id}`):e.setStyles(Lt(o))})}setGridBackgroundVisible(e){const o=this.elementRef.nativeElement.classList;e?o.add("ktd-grid-background-visible"):o.remove("ktd-grid-background-visible")}initSubscriptions(){this.subscriptions=[this._gridItems.changes.pipe((0,ct.Z)(this._gridItems),(0,W.n)(e=>(0,z.h)(...e.map(o=>o.dragStart$.pipe((0,X.T)(r=>({event:r,gridItem:o,type:"drag"})))),...e.map(o=>o.resizeStart$.pipe((0,X.T)(r=>({event:r,gridItem:o,type:"resize"}))))).pipe(yt(({event:o,gridItem:r,type:l})=>{const a=this.selectedItems&&[...this.selectedItems];this.ngZone.run(()=>("drag"===l?this.dragStarted:this.resizeStarted).emit(It(r,this.layout,a))),this.setGridBackgroundVisible("whenDragging"===this._backgroundConfig?.show||"always"===this._backgroundConfig?.show);let c=[r];return a&&a.some(u=>u.id===r.id)&&(c=a),this.performDragSequence$(c,o,l).pipe((0,X.T)(u=>({layout:u,gridItem:r,type:l,multipleSelection:a})))})))).subscribe(({layout:e,gridItem:o,type:r,multipleSelection:l})=>{this.layout=e,this.calculateRenderData(),("drag"===r?this.dragEnded:this.resizeEnded).emit(It(o,e,l)),this.layoutUpdated.emit(e),this.setGridBackgroundVisible("always"===this._backgroundConfig?.show)})]}performDragSequence$(e,o,r){return new lt.c(l=>{const a="string"==typeof this.scrollableParent?this.document.getElementById(this.scrollableParent):this.scrollableParent,c=$t(this.elementRef.nativeElement),u={},h={};let R,E={};e.forEach(v=>{u[v.id]=$t(v.elementRef.nativeElement),this.renderer.addClass(v.elementRef.nativeElement,"no-transitions"),this.renderer.addClass(v.elementRef.nativeElement,"ktd-grid-item-dragging");const j={...u[v.id],left:u[v.id].left-c.left,top:u[v.id].top-c.top};this.createPlaceholderElement(v.id,j,v.placeholder)});const _=this.ngZone.runOutsideAngular(()=>(a?this.gridService.mouseOrTouchMove$(this.document).pipe((0,X.T)(v=>({pointerX:O(v),pointerY:N(v)})),ei(a,{scrollStep:this.scrollSpeed})):Z).pipe((0,Rt.Q)(St(this.document))).subscribe()),w=this.ngZone.runOutsideAngular(()=>(0,z.h)((0,wn.z)([this.gridService.mouseOrTouchMove$(this.document),...a?[ni(a).pipe((0,ct.Z)({top:0,left:0}))]:[(0,Cn.of)({top:0,left:0})]])).pipe((0,Rt.Q)(St(this.document))).subscribe(([v,j])=>{v.preventDefault();const L=R||this.layout;if("drag"===r&&e.length>1){const{layout:g,draggedItemPos:D}=function On(n,i,e,o){const{pointerDownEvent:r,pointerDragEvent:l,gridElemClientRect:a,dragElementsClientRect:c,scrollDifference:u}=o,h={};n.forEach(F=>{h[F.id]=i.layout.find(T=>T.id===F.id)});const E=O(r),R=N(r),_=O(l),w=N(l),v=a.left+u.left,j=a.top+u.top,L="fit"===i.rowHeight?et(i.layout,i.height??a.height,i.gap):i.rowHeight,g={},D={};let B=0,C=0;n.forEach(F=>{D[F.id]={x:_-v-(E-c[F.id].left),y:w-j-(R-c[F.id].top)},g[F.id]={...h[F.id],x:ee(D[F.id].x,i.cols,a.width,i.gap),y:ne(D[F.id].y,L,0,i.gap)},0>g[F.id].x&&B>g[F.id].x&&(B=g[F.id].x),0>g[F.id].y&&C>g[F.id].y&&(C=g[F.id].y),g[F.id].x+g[F.id].w>i.cols&&B<g[F.id].w+g[F.id].x-i.cols&&(B=g[F.id].w+g[F.id].x-i.cols)}),Object.entries(g).forEach(([F,T])=>{g[F]={...T,x:T.x-B,y:T.y-C}});const U=i.layout,S=n.map(F=>{const T=U.find(Xt=>Xt.id===F.id);return T.static=!0,{l:T,x:g[F.id].x,y:g[F.id].y}});let P=kt(U,S,!0,e,i.cols);P=Y(P,e,i.cols),n.forEach(F=>P.find(T=>T.id===F.id).static=!1),P=Y(P,e,i.cols);const G={};return n.forEach(F=>G[F.id]={left:D[F.id].x,top:D[F.id].y,width:c[F.id].width,height:c[F.id].height}),{layout:P,draggedItemPos:G}}(e,{layout:L,rowHeight:this.rowHeight,height:this.height,cols:this.cols,preventCollision:this.preventCollision,gap:this.gap},this.compactType,{pointerDownEvent:o,pointerDragEvent:v,gridElemClientRect:c,dragElementsClientRect:u,scrollDifference:j});R=g,E=D}else{const g="drag"===r?Vn:Nn;R=L,e.forEach(D=>{const{layout:B,draggedItemPos:C}=g(D,{layout:R,rowHeight:this.rowHeight,height:this.height,cols:this.cols,preventCollision:this.preventCollision,gap:this.gap},this.compactType,{pointerDownEvent:o,pointerDragEvent:v,gridElemClientRect:c,dragElemClientRect:u[D.id],scrollDifference:j});R=B,E[D.id]=C})}this.gridCurrentHeight=this.height??("fit"===this.rowHeight?c.height:pe(R,this.rowHeight,this.gap)),this._gridItemsRenderData=he({cols:this.cols,rowHeight:this.rowHeight,height:this.height,layout:R,preventCollision:this.preventCollision,gap:this.gap},c.width,c.height),e.forEach(g=>{h[g.id]={...this._gridItemsRenderData[g.id]};const D=Lt(h[g.id]);this.placeholder[g.id].style.width=D.width,this.placeholder[g.id].style.height=D.height,this.placeholder[g.id].style.transform=`translateX(${D.left}) translateY(${D.top})`,this._gridItemsRenderData[g.id]={...E[g.id],id:this._gridItemsRenderData[g.id].id}}),this.setBackgroundCssVariables("fit"===this.rowHeight?et(R,c.height,this.gap):this.rowHeight),this.render(),e.forEach(g=>{"resize"===r&&(function zn(n,i){return n.id===i.id&&n.x===i.x&&n.y===i.y&&n.w===i.w&&n.h===i.h}(L.find(C=>C.id===g.id),R.find(C=>C.id===g.id))||this.gridItemResize.emit({width:h[g.id].width,height:h[g.id].height,gridItemRef:It(g,R).gridItemRef}))})},v=>l.error(v),()=>{this.ngZone.run(()=>{e.forEach(v=>{this.renderer.removeClass(v.elementRef.nativeElement,"no-transitions"),this.renderer.removeClass(v.elementRef.nativeElement,"ktd-grid-item-dragging"),this.addGridItemAnimatingClass(v).subscribe(),this.destroyPlaceholder(v.id)}),l.next(R?R.map(v=>({id:v.id,x:v.x,y:v.y,w:v.w,h:v.h,minW:v.minW,minH:v.minH,maxW:v.maxW,maxH:v.maxH})):this.layout),l.complete()})}));return()=>{_.unsubscribe(),w.unsubscribe()}})}addGridItemAnimatingClass(e){return new lt.c(o=>{const r=function oi(n){const i=getComputedStyle(n),e=Mt(i,"transition-property"),o=e.find(c=>"transform"===c||"all"===c);if(!o)return 0;const r=e.indexOf(o),l=Mt(i,"transition-duration"),a=Mt(i,"transition-delay");return de(l[r])+de(a[r])}(e.elementRef.nativeElement);if(0===r)return o.next(),void o.complete();this.renderer.addClass(e.elementRef.nativeElement,"ktd-grid-item-animating");const l=u=>{(!u||u.target===e.elementRef.nativeElement&&"transform"===u.propertyName)&&(this.renderer.removeClass(e.elementRef.nativeElement,"ktd-grid-item-animating"),c(),clearTimeout(a),o.next(),o.complete())},a=setTimeout(l,1.5*r),c=this.renderer.listen(e.elementRef.nativeElement,"transitionend",l)})}createPlaceholderElement(e,o,r){this.placeholder[e]=this.renderer.createElement("div"),this.placeholder[e].style.width=`${o.width}px`,this.placeholder[e].style.height=`${o.height}px`,this.placeholder[e].style.transform=`translateX(${o.left}px) translateY(${o.top}px)`,this.placeholder[e].classList.add("ktd-grid-item-placeholder"),this.renderer.appendChild(this.elementRef.nativeElement,this.placeholder[e]),r?(this.placeholderRef[e]=this.viewContainerRef.createEmbeddedView(r.templateRef,r.data),this.placeholderRef[e].rootNodes.forEach(l=>this.placeholder[e].appendChild(l)),this.placeholderRef[e].detectChanges()):this.placeholder[e].classList.add("ktd-grid-item-placeholder-default")}destroyPlaceholder(e){this.placeholder[e]?.remove(),this.placeholderRef[e]?.destroy(),this.placeholder[e]=this.placeholderRef[e]=null}static#t=this.\u0275fac=function(o){return new(o||n)(t.rXU(Bt),t.rXU(t.aKT),t.rXU(t.c1b),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(s.qQ))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["ktd-grid"]],contentQueries:function(o,r,l){if(1&o&&t.wni(l,re,5),2&o){let a;t.mGM(a=t.lsd())&&(r._gridItems=a)}},inputs:{scrollableParent:"scrollableParent",compactOnPropsChange:"compactOnPropsChange",preventCollision:"preventCollision",scrollSpeed:"scrollSpeed",compactType:"compactType",rowHeight:"rowHeight",cols:"cols",layout:"layout",gap:"gap",height:"height",selectedItemsIds:"selectedItemsIds",backgroundConfig:"backgroundConfig"},outputs:{layoutUpdated:"layoutUpdated",dragStarted:"dragStarted",resizeStarted:"resizeStarted",dragEnded:"dragEnded",resizeEnded:"resizeEnded",gridItemResize:"gridItemResize"},standalone:!0,features:[t.Jv_([{provide:oe,useFactory:li,deps:[n]}]),t.OA$,t.aNF],ngContentSelectors:Wt,decls:1,vars:0,template:function(o,r){1&o&&(t.NAR(),t.SdG(0))},styles:['ktd-grid{display:block;position:relative;width:100%}ktd-grid.ktd-grid-background:before{content:"";border:none;position:absolute;inset:0;z-index:0;transition:opacity .2s;opacity:0;background-image:repeating-linear-gradient(var(--border-color) 0 var(--border-width),var(--row-color) var(--border-width) calc(var(--row-height) - var(--border-width)),var(--border-color) calc(var(--row-height) - var(--border-width)) calc(var(--row-height)),var(--gap-color) calc(var(--row-height)) calc(var(--row-height) + var(--gap))),repeating-linear-gradient(90deg,var(--border-color) 0 var(--border-width),var(--column-color) var(--border-width) calc(100% - (var(--border-width) + var(--gap))),var(--border-color) calc(100% - (var(--border-width) + var(--gap))) calc(100% - var(--gap)),var(--gap-color) calc(100% - var(--gap)) 100%);background-size:calc((100% + var(--gap)) / var(--columns)) calc(var(--row-height) + var(--gap));background-position:0 0}ktd-grid.ktd-grid-background.ktd-grid-background-visible:before{opacity:1}ktd-grid ktd-grid-item.ktd-grid-item-dragging,ktd-grid ktd-grid-item.ktd-grid-item-animating{z-index:1000}ktd-grid ktd-grid-item.no-transitions{transition:none!important}ktd-grid .ktd-grid-item-placeholder{position:absolute;z-index:0;transition-property:transform;transition:all .15s ease}ktd-grid .ktd-grid-item-placeholder-default{background-color:#8b0000;opacity:.6}\n'],encapsulation:2,changeDetection:0})}return n})(),ci=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({providers:[Bt]})}return n})();function di(n,i){if(1&n&&(t.qex(0),t.EFF(1,"\n                        "),t.j41(2,"div"),t.EFF(3,"\n                            "),t.EFF(4,"\n                            "),t.j41(5,"strong"),t.EFF(6),t.k0s(),t.nrm(7,"br"),t.EFF(8),t.nrm(9,"br"),t.EFF(10),t.nrm(11,"br"),t.EFF(12),t.nrm(13,"br"),t.EFF(14),t.k0s(),t.EFF(15,"\n                    "),t.bVm()),2&n){const e=i.ngIf,o=t.XpG().$implicit;t.R7$(2),t.AVh("field-box-disable",0==e.IsVisible)("field-box",1==e.IsVisible),t.R7$(4),t.JRh(e.id),t.R7$(2),t.Lme("\n                            Column: (",o.x,",",o.y,")"),t.R7$(2),t.Lme("\n                            ColumSpan: (",o.w," \xd7 ",o.h,")"),t.R7$(2),t.SpI("\n                            SeqNo: ",e.SectionSeqNumber,""),t.R7$(2),t.SpI("\n                            Row: ",e.row,"\n                        ")}}function ui(n,i){if(1&n&&(t.EFF(0,"\n                        "),t.EFF(1,"\n                        "),t.j41(2,"div",14),t.EFF(3),t.k0s(),t.EFF(4,"\n                    ")),2&n){const e=t.XpG().$implicit;t.R7$(3),t.SpI("Field data missing for id: ",e.id,"")}}function hi(n,i){if(1&n&&(t.j41(0,"ktd-grid-item",12),t.EFF(1,"\n                    "),t.DNE(2,di,16,11,"ng-container",13),t.EFF(3,"\n                    "),t.DNE(4,ui,5,1,"ng-template",null,0,t.C5r),t.EFF(6,"\n                "),t.k0s()),2&n){const e=i.$implicit,o=t.sdS(5),r=t.XpG().$implicit,l=t.XpG();t.Y8G("id",e.id),t.R7$(2),t.Y8G("ngIf",l.getFieldById(r.fields,e.id))("ngIfElse",o)}}function pi(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",8),t.EFF(1,"\n            "),t.j41(2,"div",9),t.EFF(3,"\n                "),t.j41(4,"h3"),t.EFF(5),t.k0s(),t.EFF(6,"\n             \n            "),t.k0s(),t.EFF(7,"\n            "),t.j41(8,"ktd-grid",10),t.bIt("layoutUpdated",function(r){const l=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.onLayoutUpdated(l.name,r))}),t.EFF(9,"\n                \n                "),t.DNE(10,hi,7,3,"ktd-grid-item",11),t.EFF(11,"\n            "),t.k0s(),t.EFF(12,"\n\n        "),t.k0s()}if(2&n){const e=i.$implicit,o=t.XpG();t.R7$(5),t.JRh(e.name),t.R7$(3),t.Y8G("cols",o.cols)("rowHeight",o.rowHeight)("layout",e.layout),t.R7$(2),t.Y8G("ngForOf",e.layout)}}let fi=(()=>{class n{constructor(){this.form=new p.gE({}),this.cols=4,this.rowHeight=100,this.sections=[],this.parsedXml={}}ngOnInit(){this.LoadData(this.obj.DesignDATA)}computeNextRow(e){return e.reduce((o,r)=>Math.max(o,r.y+r.h),0)}onLayoutUpdated(e,o){const r=this.sections.find(l=>l.name===e);r&&(r.layout=o.map(l=>({...l})),r.fields.forEach(l=>{const a=o.find(c=>c.id===l.id);a&&(l.Column=a.x,l.Row=a.y,l.Width=a.w,l.Height=a.h,l.row=a.y)}),r.fields.sort((l,a)=>l.Row===a.Row?l.Column-a.Column:l.Row-a.Row),this.updateGlobalSequenceNumber())}updateGlobalSequenceNumber(){const e=[];this.sections.forEach(o=>{const r=[...o.fields].sort((l,a)=>l.Row===a.Row?l.Column-a.Column:l.Row-a.Row);e.push(...r)}),e.forEach((o,r)=>{o.SectionSeqNumber=r+1})}getFieldById(e,o){if(e&&o)return e.find(r=>r.id===o)}downloadXML(){if(this.sections.length>0){const e=this.exportToXML(),o=new Blob([e],{type:"application/xml"}),r=URL.createObjectURL(o),l=document.createElement("a");l.href=r,l.download="layout.xml",l.click(),URL.revokeObjectURL(r)}else alert("No fields to export")}exportToXML(){let e="<Fields>\n";return this.sections.forEach((o,r)=>{o.fields.forEach(l=>{e+=`  <Field FieldName="${l.id}" SectionID="${r+1}" SectionName="${l.section}" SectionSeqNumber="${l.SectionSeqNumber}" ColumnSpan="${l.Width}" RowNo="${l.row}" CostCenterColID="${l.CostCenterColID}" CostCenterID="${l.CostCenterID}" ColumnNo="${l.Column}" />\n`})}),e+="</Fields>",e}onFileSelected(e){const o=e.target.files[0];if(!o)return;const r=new FileReader;r.onload=()=>{this.importFromXML(r.result)},r.readAsText(o)}importFromXML(e){const r=(new DOMParser).parseFromString(e,"application/xml"),l=Array.from(r.getElementsByTagName("Field"));this.sections=[];const a={};l.forEach((c,u)=>{const h=c.getAttribute("SectionName")||"Unknown",E={id:`imported_field_${u+1}`,section:h,Column:parseInt(c.getAttribute("ColumnNo")||"0"),Row:parseInt(c.getAttribute("RowNo")||"0"),Width:parseInt(c.getAttribute("ColumnSpan")||"1"),Height:1,SectionSeqNumber:parseInt(c.getAttribute("SectionSeqNumber")||(u+1).toString()),row:parseInt(c.getAttribute("RowNo")||"0"),CostCenterColID:parseInt(c.CostCenterColID),CostCenterID:this.obj.CostCenterID,IsVisible:c.IsVisible};a[h]||(a[h]=[]),a[h].push(E)}),this.sections=Object.keys(a).map((c,u)=>{const h=a[c];return{name:c,fields:h,layout:h.map(E=>({id:E.id,x:E.Column,y:E.Row,w:E.Width,h:E.Height}))}}),console.log("Sections loaded from XML:",this.sections)}LoadData(e){this.sections=[];const o={};e.forEach((r,l)=>{const a=r.SectionName||"Unknown";if(3!=r.SectionID&&"Unknown"!=a&&1==r.IsVisible){const c={id:r.ResourceData,section:a,Column:parseInt(r.ColumnNo||"0"),Row:parseInt(r.RowNo||"0"),Width:parseInt(r.ColumnSpan||"1"),Height:1,SectionSeqNumber:parseInt(r.SectionSeqNumber||(l+1).toString()),row:parseInt(r.RowNo||"0"),CostCenterColID:parseInt(r.CostCenterColID),CostCenterID:this.obj.CostCenterID,IsVisible:r.IsVisible};o[a]||(o[a]=[]),o[a].push(c)}}),this.sections=Object.keys(o).map((r,l)=>{const a=o[r];return{name:r,fields:a,layout:a.map(c=>({id:c.id,x:c.Column,y:c.Row,w:c.Width,h:c.Height}))}}),console.log("Sections loaded from XML:",this.sections)}SaveXML(){if(this.sections.length>0){const e=this.exportToXML();this.obj.strXml=e,this.obj.OnButtonClick("OK")}else alert("No fields to export")}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-designer"]],standalone:!0,features:[t.aNF],decls:21,vars:1,consts:[["missingField",""],[1,"master-screen",2,"padding-bottom","4px","width","1000px"],[1,"Pactdailogfooter"],[1,"primary-btn-wicon",3,"click"],[1,"fa-light","fa-floppy-disk"],[1,"secondary-btn-wicon",3,"click"],[1,"PACTHeaderFields","dialogSubBody"],["class","section-container",4,"ngFor","ngForOf"],[1,"section-container"],[1,"section-header"],[3,"layoutUpdated","cols","rowHeight","layout"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[4,"ngIf","ngIfElse"],[1,"field-box","missing"]],template:function(o,r){1&o&&(t.j41(0,"div",1),t.EFF(1,"\n    "),t.j41(2,"div",2),t.EFF(3,"\n        "),t.j41(4,"div"),t.EFF(5,"\n            "),t.j41(6,"button",3),t.bIt("click",function(){return r.SaveXML()}),t.nrm(7,"i",4),t.EFF(8,"OK"),t.k0s(),t.EFF(9,"\n            "),t.j41(10,"button",5),t.bIt("click",function(){return r.obj.OnButtonClick("Cancel")}),t.EFF(11,"Close"),t.k0s(),t.EFF(12,"\n        "),t.k0s(),t.EFF(13,"\n    "),t.k0s(),t.EFF(14,"\n    "),t.j41(15,"div",6),t.EFF(16,"\n\n        "),t.DNE(17,pi,13,5,"div",7),t.EFF(18,"\n    "),t.k0s(),t.EFF(19,"\n    \n"),t.k0s(),t.EFF(20,"\n")),2&o&&(t.R7$(17),t.Y8G("ngForOf",r.sections))},dependencies:[s.MD,s.Sq,s.bT,ci,ai,re],styles:[".section-container[_ngcontent-%COMP%]{margin:20px 0}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.field-box[_ngcontent-%COMP%]{height:100%;width:100%;background:#cde6f7;border:1px solid #4a90e2;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px;text-align:center;padding:4px}.field-box-disable[_ngcontent-%COMP%]{height:100%;width:100%;background:#ebebeb;border:1px solid #4a90e2;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px;text-align:center;padding:4px}.field-box.missing[_ngcontent-%COMP%]{background:#ffe5e5;border:1px solid red;color:#d00000;padding:8px;text-align:center}"]})}return n})();var mi=d(52963),gi=d(41706),fe=d(94304),y=d(36688),Pt=d(68580),vi=d(83556),Fi=d(14823),bi=d(40627),wi=d(57547),Ci=d(44117),Ei=d(41477),xi=d(98933),Ft=d(18707),yi=d(64235),Ri=d(20117),Ht=d(79772),Di=d(64250),ji=d(86739);let _i=(()=>{class n{constructor(e){this.el=e}ngOnChanges(){}ngAfterViewInit(){let e=Math.max.apply(Math,this.obj.map(function(h){return h.X1})),o=Math.max.apply(Math,this.obj.map(function(h){return h.X2})),r=Math.max.apply(Math,this.obj.map(function(h){return h.Y1})),l=Math.max.apply(Math,this.obj.map(function(h){return h.Y2}));this.el.nativeElement.width=Math.max(e,o)+20,this.el.nativeElement.height=Math.max(r,l)+20;let u=this.el.nativeElement.getContext("2d");"2"==ji.d.SessionManager.LangID&&this.obj.forEach(h=>{h.X1=Math.max(e,o)+20-h.X1,h.X2=Math.max(e,o)+20-h.X2}),this.obj.forEach(h=>{u.beginPath(),u.strokeStyle=h.Stroke,u.globalAlpha=.8,u.moveTo(h.X1,h.Y1),u.lineTo(h.X2,h.Y2);let E=Math.atan2(h.Y1-h.Y2,h.X1-h.X2),R=Math.sin(E),_=Math.cos(E),w=h.X2+(12*_-6*R),v=h.Y2+(12*R+6*_);u.lineTo(w,v),u.moveTo(h.X2,h.Y2),w=h.X2+(12*_+6*R),v=h.Y2-(6*_-12*R),u.lineTo(w,v),u.stroke()})}static#t=this.\u0275fac=function(o){return new(o||n)(t.rXU(t.aKT))};static#e=this.\u0275dir=t.FsC({type:n,selectors:[["","ArrowDirective",""]],inputs:{obj:"obj"},exportAs:["ArrowDirective"],features:[t.OA$]})}return n})();var Si=d(66994);let ki=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[s.MD,bt.G,p.YN,p.X1,A.jr.forRoot(),Ct,fi]})}return n})();t.wjB(J.AddEditDocumentComponent,function(){return[s.Sq,s.bT,s.B3,mi.E,b._,gi.o,p.me,p.BC,p.cb,p.j4,fe.Mj,fe.kt,y.X,Pt.hs,Pt.UL,Pt.Kk,vi.s,Fi.oV,bi.G,p.vS,A.V6,A.fw,A.Bh,x,Re,Vt.g]},function(){return[m.D9]}),t.wjB(f.DocumentNumberComponent,function(){return[s.Sq,s.bT,b._]},function(){return[m.D9]}),t.wjB($.l,function(){return[s.bT,wi.o,Ci.ViewAttachmentComponent,Ei.k,xi.n]},[]),t.wjB(M.x,function(){return[s.bT,b._,p.me,p.Zm,p.BC,y.X,p.vS]},function(){return[m.D9]}),t.wjB(De.ShowJVComponent,function(){return[s.bT,b._,y.X]},function(){return[m.D9]}),t.wjB(je.W,function(){return[s.bT,b._,y.X]},function(){return[m.D9]}),t.wjB(_e.a,function(){return[p.me,p.BC,Ft.N,p.vS]},function(){return[m.D9]}),t.wjB(Se.F,function(){return[s.bT,b._,p.me,p.BC,y.X,p.vS]},function(){return[m.D9]}),t.wjB(ke.DocumentDraftsComponent,function(){return[s.bT,y.X]},function(){return[m.D9]}),t.wjB(Te.k,function(){return[s.bT,b._,p.me,p.BC,Ft.N,y.X,p.vS]},function(){return[m.D9]}),t.wjB(Be.H,function(){return[p.Zm,p.BC,y.X,p.vS]},function(){return[m.D9]}),t.wjB($e.i,function(){return[s.Sq,s.bT,b._,y.X]},function(){return[m.D9]}),t.wjB(Ge.Q,function(){return[yi.e,Ri.M]},[]),t.wjB(Me.p,function(){return[s.Sq,s.bT,b._,y.X]},function(){return[m.D9]}),t.wjB(Ie.c,function(){return[s.bT,y.X]},function(){return[m.D9]}),t.wjB(Le.R,function(){return[s.bT,b._,y.X]},function(){return[m.D9]}),t.wjB(Pe.V,function(){return[b._,p.me,p.BC,p.cb,p.j4,p.vS]},function(){return[m.D9]}),t.wjB(He.T,function(){return[s.bT,b._,p.me,p.BC,y.X,p.vS]},function(){return[m.D9]}),t.wjB(Xe.y,function(){return[b._]},function(){return[m.D9]}),t.wjB(Ve.W,function(){return[s.bT,b._,p.Zm,p.BC,y.X,p.vS]},function(){return[m.D9]}),t.wjB(Oe.BatchNumberComponent,function(){return[s.Sq,s.bT,b._,p.Zm,p.BC,y.X,p.vS]},function(){return[m.D9]}),t.wjB(Ne.t,function(){return[s.Sq,s.bT,b._,y.X]},function(){return[m.D9]}),t.wjB(Ae.N,function(){return[s.bT,b._]},function(){return[m.D9]}),t.wjB(Vt.g,function(){return[y.X]},[]),t.wjB(ze.PostVoucherSaveComponent,function(){return[s.bT,b._,p.cb,p.j4]},function(){return[m.D9]}),t.wjB(We.v,function(){return[s.bT,b._,y.X]},function(){return[m.D9]}),t.wjB(Ke.t,function(){return[s.bT,b._,p.me,p.BC,p.vS]},function(){return[m.D9]}),t.wjB(Ye.Z,function(){return[s.bT,b._]},function(){return[m.D9]}),t.wjB(Ue.y,function(){return[s.Sq,s.bT,Ht.G,b._]},function(){return[m.D9]}),t.wjB(Je.ProductSearchCatalogComponent,function(){return[s.Sq,s.bT,b._,p.me,p.BC,Ft.N,y.X,p.vS]},function(){return[m.D9]}),t.wjB(Ze.V,function(){return[s.bT,b._]},function(){return[m.D9]}),t.wjB(Qe.V,function(){return[s.bT,b._,y.X]},function(){return[m.D9]}),t.wjB(qe.W,function(){return[b._]},function(){return[m.D9]}),t.wjB(tn.AddDenominationComponent,function(){return[s.Sq,s.bT,b._,p.xH,p.y7,p.me,p.wz,p.BC,p.vS]},function(){return[m.D9]}),t.wjB(en.N,function(){return[s.bT,b._,p.Zm,p.BC,y.X,p.vS]},function(){return[m.D9]}),t.wjB(nn.T,function(){return[s.Sq,s.bT,Ht.G,b._,p.Zm,p.BC,y.X,p.vS]},function(){return[m.D9]}),t.wjB(on.s,function(){return[Di.L]},function(){return[m.D9]}),t.wjB(rn.DocumentFlowChartComponent,function(){return[s.Sq,s.bT,s.B3,b._,_i,p.me,p.BC,p.vS]},function(){return[m.D9]}),t.wjB(sn.P,function(){return[s.bT,b._,p.me,p.Zm,p.BC,p.vS]},function(){return[m.D9]}),t.wjB(ln.AssignReportComponent,function(){return[s.bT,b._,p.me,p.Zm,p.BC,Ft.N,p.vS]},function(){return[m.D9]}),t.wjB(an.K,function(){return[s.Sq,s.bT,Ht.G,b._]},function(){return[m.D9]}),t.wjB(cn.S,function(){return[s.Sq,s.bT,b._,y.X]},function(){return[m.D9]}),t.wjB(dn.k,function(){return[s.bT,b._]},function(){return[m.D9]}),t.wjB(un.z,function(){return[s.Sq,s.bT,b._]},function(){return[m.D9]}),t.wjB(hn.$,function(){return[y.X]},function(){return[m.D9]}),t.wjB(pn.Z,function(){return[s.Sq,s.bT,b._,y.X]},function(){return[m.D9]}),t.wjB(fn.$,function(){return[y.X]},function(){return[m.D9]}),t.wjB(mn.H,function(){return[b._,y.X,Si.RecurAppointmentComponent]},function(){return[m.D9]}),t.wjB(gn.LCBillsComponent,function(){return[p.Zm,p.BC,y.X,p.vS]},function(){return[m.D9]})},83556:(me,ot,d)=>{d.d(ot,{s:()=>xt});var s=d(54438),J=d(60177);function bt(x,$){if(1&x){const f=s.RV6();s.j41(0,"span",9),s.bIt("click",function(){s.eBV(f);const k=s.XpG().$implicit;return s.Njj(k.OnButtonClick("Level"))}),s.nrm(1,"i",10),s.k0s()}if(2&x){const f=s.XpG().$implicit;s.xc7("background-color",f.BgColor),s.FS9("title",f.ModifiedBy)}}function p(x,$){if(1&x){const f=s.RV6();s.j41(0,"span",9),s.bIt("click",function(){s.eBV(f);const k=s.XpG().$implicit;return s.Njj(k.OnButtonClick("Level"))}),s.EFF(1,"X"),s.k0s()}if(2&x){const f=s.XpG().$implicit;s.xc7("background-color",f.BgColor),s.FS9("title",f.ModifiedBy)}}function A(x,$){if(1&x){const f=s.RV6();s.j41(0,"span",9),s.bIt("click",function(){s.eBV(f);const k=s.XpG().$implicit;return s.Njj(k.OnButtonClick("Level"))}),s.EFF(1),s.k0s()}if(2&x){const f=s.XpG().$implicit;s.xc7("background-color",f.BgColor),s.FS9("title",f.ModifiedBy),s.R7$(),s.JRh(f.Label)}}function rt(x,$){if(1&x&&(s.j41(0,"div",4),s.EFF(1,"\n        "),s.j41(2,"div",5),s.EFF(3,"\n            "),s.nrm(4,"div",6),s.EFF(5,"\n            "),s.DNE(6,bt,2,3,"span",7),s.EFF(7,"\n            "),s.DNE(8,p,2,3,"span",7),s.EFF(9,"\n            "),s.DNE(10,A,2,4,"span",7),s.EFF(11,"\n            \n            "),s.nrm(12,"div",6),s.EFF(13,"\n        "),s.k0s(),s.EFF(14,"\n        "),s.j41(15,"label",8),s.EFF(16),s.k0s(),s.EFF(17,"\n    "),s.k0s()),2&x){const f=$.$implicit;s.R7$(4),s.xc7("background-color",f.LeftLineBrush),s.R7$(2),s.Y8G("ngIf",f.IsApproved),s.R7$(2),s.Y8G("ngIf",f.IsRejected),s.R7$(2),s.Y8G("ngIf",!f.IsRejected&&!f.IsApproved),s.R7$(2),s.xc7("background-color",f.RightLineBrush),s.R7$(3),s.FS9("title",f.LevelName),s.R7$(),s.JRh(f.LevelName)}}function t(x,$){if(1&x&&(s.j41(0,"div",2),s.EFF(1,"\n    "),s.DNE(2,rt,18,9,"div",3),s.EFF(3,"\n"),s.k0s()),2&x){const f=s.XpG();s.R7$(2),s.Y8G("ngForOf",f.WFDocLevelList)}}function wt(x,$){if(1&x){const f=s.RV6();s.j41(0,"span",9),s.bIt("click",function(){s.eBV(f);const k=s.XpG().$implicit;return s.Njj(k.OnButtonClick("Level"))}),s.nrm(1,"i",10),s.k0s()}if(2&x){const f=s.XpG().$implicit;s.xc7("background-color",f.BgColor),s.FS9("title",f.ModifiedBy)}}function Ct(x,$){if(1&x){const f=s.RV6();s.j41(0,"span",9),s.bIt("click",function(){s.eBV(f);const k=s.XpG().$implicit;return s.Njj(k.OnButtonClick("Level"))}),s.EFF(1,"X"),s.k0s()}if(2&x){const f=s.XpG().$implicit;s.xc7("background-color",f.BgColor),s.FS9("title",f.ModifiedBy)}}function m(x,$){if(1&x){const f=s.RV6();s.j41(0,"span",9),s.bIt("click",function(){s.eBV(f);const k=s.XpG().$implicit;return s.Njj(k.OnButtonClick("Level"))}),s.EFF(1),s.k0s()}if(2&x){const f=s.XpG().$implicit;s.xc7("background-color",f.BgColor),s.FS9("title",f.ModifiedBy),s.R7$(),s.JRh(f.Label)}}function b(x,$){if(1&x&&(s.j41(0,"div",13),s.EFF(1,"\n        "),s.j41(2,"div",14),s.EFF(3,"\n            "),s.nrm(4,"div",15),s.EFF(5,"\n            "),s.DNE(6,wt,2,3,"span",7),s.EFF(7,"\n            "),s.DNE(8,Ct,2,3,"span",7),s.EFF(9,"\n            "),s.DNE(10,m,2,4,"span",7),s.EFF(11,"\n            "),s.nrm(12,"div",15),s.EFF(13,"\n        "),s.k0s(),s.EFF(14,"\n        "),s.j41(15,"label",16),s.EFF(16),s.k0s(),s.EFF(17,"\n    "),s.k0s()),2&x){const f=$.$implicit;s.R7$(4),s.xc7("background-color",f.LeftLineBrush),s.R7$(2),s.Y8G("ngIf",f.IsApproved),s.R7$(2),s.Y8G("ngIf",f.IsRejected),s.R7$(2),s.Y8G("ngIf",!f.IsRejected&&!f.IsApproved),s.R7$(2),s.xc7("background-color",f.RightLineBrush),s.R7$(3),s.FS9("title",f.LevelName),s.R7$(),s.JRh(f.LevelName)}}function Et(x,$){if(1&x&&(s.j41(0,"div",11),s.EFF(1,"\n    "),s.DNE(2,b,18,9,"div",12),s.EFF(3,"\n"),s.k0s()),2&x){const f=s.XpG();s.R7$(2),s.Y8G("ngForOf",f.WFDocLevelList)}}let xt=(()=>{class x{constructor(){this.IsRental=!1}ngOnInit(){}static#t=this.\u0275fac=function(M){return new(M||x)};static#e=this.\u0275cmp=s.VBU({type:x,selectors:[["app-wflevel-view"]],inputs:{WFDocLevelList:"WFDocLevelList",IsRental:"IsRental"},decls:3,vars:2,consts:[["style","display: inline-flex;margin:auto;",4,"ngIf"],["style","display: inline-flex;margin:auto; width: 100%;",4,"ngIf"],[2,"display","inline-flex","margin","auto"],["class","wfview",4,"ngFor","ngForOf"],[1,"wfview"],[2,"display","flex"],[1,"line"],[3,"title","background-color","click",4,"ngIf"],[3,"title"],[3,"click","title"],[1,"fa-light","fa-circle-check",2,"font-size","21px","margin-left","-8px","margin-top","-2px"],[2,"display","inline-flex","margin","auto","width","100%"],["class","wfview","style","width: 100%;",4,"ngFor","ngForOf"],[1,"wfview",2,"width","100%"],[2,"display","flex","flex-direction","row"],[1,"line",2,"width","50% !important"],[2,"width","100% !important",3,"title"]],template:function(M,k){1&M&&(s.DNE(0,t,4,1,"div",0),s.EFF(1,"\n\n"),s.DNE(2,Et,4,1,"div",1)),2&M&&(s.Y8G("ngIf",!k.IsRental),s.R7$(2),s.Y8G("ngIf",k.IsRental))},dependencies:[J.Sq,J.bT],styles:[".wfview[_ngcontent-%COMP%]{display:flex;flex-direction:column}.wfview[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{height:2px;width:20px;margin:auto}.wfview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;width:22px;border-radius:50%;color:#404756;border:solid 1px #707070;display:inline-block;padding-left:7px;padding-top:2px;font-weight:700}.wfview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{border:solid 2px var(--base-color);padding-left:6px;padding-top:1px}.wfview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:11px!important;flex-direction:column;text-align:center;font-weight:700;text-overflow:ellipsis;width:60px;overflow:hidden}"]})}return x})()}}]);